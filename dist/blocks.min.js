define("yeah/mixin",["require","exports","module"],function(e,t,n){function f(e,t,n){return e[t]=e[t]||n,e[t]}function l(e,t){var n=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return t?n==t:n}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){return Array.prototype.slice.call(e,t)}function p(e,t,n){if(t<0)return e;var r=e.slice(parseInt(n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r)}function d(e){var t=f(this,u,{});return e.indexOf(":")!==-1&&r.test(e)&&(e=e.replace(r,""),t[e]=1),e}var r=/:(latch(ed$)?)/i,i="call",s="_events",o="_switched",u="_latched",a="_arguments",v={getEvents:function(e){var t=f(this,s,{}),n=t[e];return e?n?n:[]:Object.keys(t)},addCompoundEvent:function(e,t,n){function u(){var n=e.length;while(n--)if(!s[e[n]])return;r.fireEvent(t+":latched")}t=d[i](this,t);var r=this,s=f(r,o,{});return e=e.map(function(e){return e=d[i](r,e),r.addEvent(e,u),e}),n&&r.addEvent(t,n),r},addEvent:function(e,t){if(l(e,"array"))return this.addCompoundEvent.apply(this,arguments);e=d.call(this,e);var n=this,r=f(n,s,{}),i=f(r,e,[]),o=f(n,a,{}),c=f(n,u,{}),h=c[e],p=l(t);if(p=="function")h?t.apply(n,o[e]):i.indexOf(t)==-1&&i.push(t);else{if(p!="array")throw new TypeError("`#addEvent`'s second argument must be a function or an array");for(var v=0;v<t.length;v++)typeof t[v]=="function"&&(h?t[v].apply(n,o[e]):i.indexOf(t[v])==-1&&i.push(t[v]))}return n},removeEvent:function(e,t){var n=this,r=f(n,s,{}),i=f(r,e,[]),o=i.indexOf(t);return o&&(i=p(i,o)),n},addEvents:function(e){var t=this;for(var n in e)c(e,n)&&t.addEvent(n,e[n]);return t},fireEvent:function(e){e=d[i](this,e);var t=this,n=f(t,u,{}),r=f(t,o,{}),l=f(t,a,{}),c=f(t,s,{}),p=n[e],v=c[e],m=v?v.length:0,g=h(arguments,1),y=0;r[e]=1;if(v&&m)for(;y<m;y++)if(y in v)try{v[y].apply(t,g)}catch(b){}return p&&(l[e]=g,c[e]=[]),t},hasFired:function(e){var t=f(this,o,{});return t[e]?!0:!1},callMeMaybe:function(){var e=this,t=arguments;return function(){e.fireEvent.apply(e,t)}}};n.exports=v}),define("yaul/hasOwn",["require","exports","module"],function(e,t,n){n.exports=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}),define("yaul/typeOf",["require","exports","module"],function(e,t,n){n.exports=function(t,n,r){function s(e){return Object.prototype.toString.call(e)}var i=typeof t;if(t===null)return"null";if(i==="object")if(t){var o=s(t);typeof t.length=="number"?(o=="[object Array]"&&(i="array"),o==="[object Arguments]"&&(i="arguments")):null!==t&&!isNaN(t)&&"undefined"!=typeof t.getDate&&(i="date"),o==="[object RegExp]"&&(i="regexp"),t.nodeName&&(t.nodeType===1?i="element":t.nodeType===3&&(i=/\S/.test(t.nodeValue)?"textnode":"whitespace"))}else i="null";return n===r?i:i===n}}),define("yaul/extend",["require","exports","module","./hasOwn","./typeOf"],function(e,t,n){function s(){var e=arguments[0]||{},t=1,n=arguments.length,o,u,a,f,l,c;if(n<=1)throw new Error("`extend` requires at least two arguments.");typeof e!="object"&&typeof e!="function"&&(e={});for(;t<n;t++)if((o=arguments[t])!==null)for(u in o)if(r(o,u)){a=e[u],f=o[u];if(e===f)continue;f&&(i(f,"object")||(l=i(f,"array")))?(l?(l=!1,c=a&&i(a,"array")?a:[]):c=a&&i(a,"object")?a:{},e[u]=s(c,f)):f!==undefined&&(e[u]=f)}return e}var r=e("./hasOwn"),i=e("./typeOf");n.exports=s}),define("yaul/slice",["require","exports","module"],function(e,t,n){n.exports=function(t,n){return Array.prototype.slice.call(t,n)}}),define("blocks/main",["yeah/mixin","yaul/extend","yaul/slice"],function(e,t,n){var r=t({_:{blocks:{},layouts:{}},config:function(){},constructors:{},register:function(e,t){var n=this;if(n._.blocks[e])throw new Error("A block with the name `"+e+"` already exists");n._.blocks[e]=t},addLayout:function(e,t,n){var r=this;r._.layouts[e]=new Layout(e,t,n)},showLayout:function(e,t){var n=this,r=n._.layouts[e],i;if(!r){window.console&&console.warn("Theres no layout with the key `"+e+"`.");return}t=(t||r.getWhere()).split("#"),typeof r.getBlock()=="function"&&(r.block=r.block()),i=this.reference(t[0]),i&&(i.emptyChildNode(t[1]),i.setChild(t[1],r.block))},reference:function(e){var t=this;return t._.blocks[e]}},e);return r}),define("blocks",["blocks/main"],function(e){return e}),define("yaul/make",["require","exports","module"],function(e,t,n){n.exports=function(t,n,r){return t[n]=t[n]||r,t[n]}}),define("yaul/forEach",["require","exports","module"],function(e,t,n){n.exports=function(t,n){return Array.prototype.forEach.call(t,n)}}),define("yaul/isArray",["require","exports","module"],function(e,t,n){n.exports=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}),define("yaul/isElement",["require","exports","module"],function(e,t,n){n.exports=function(t){try{return t instanceof HTMLElement}catch(n){return typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object"}}}),define("yaul/trim",["require","exports","module"],function(e,t,n){var r="[    	\n\f\r   ᠎                 　\u2028    \u2029﻿  ]",i=new RegExp("^"+r+r+"*"),s=new RegExp(r+r+"*$");n.exports=function(t){return String(t).replace(i,"").replace(s,"")}}),define("blocks/block/mixin",["require","exports","module","yaul/make","yaul/forEach","yaul/isArray","yaul/isElement","yaul/hasOwn","yaul/slice","yaul/trim"],function(e,t,n){var r=e("yaul/make"),i=e("yaul/forEach"),s=e("yaul/isArray"),o=e("yaul/isElement"),u=e("yaul/hasOwn"),a=e("yaul/slice"),f=e("yaul/trim"),l=0,c={setChild:function(t,n){if(t===undefined||n===undefined)return;var o=this,u=r(o.getChildren(),t,[]),a=o.getBoundElement(t),f,l=typeof n;return s(n)?i(n,function(e){l=typeof e,f=l=="function"?new e:l=="array"?new e[0](e[1],e[2],e[3]):e,u.push(f),a&&a.appendChild(f.toElement())}):(f=l=="function"?new n:l=="array"?new n[0](n[1],n[2],n[3]):n,u.push(n),a&&a.appendChild(n.toElement())),o},getChild:function(t){return this.getChildren()[t]},removeChild:function(t){return this.removeChildren(t)},setChildren:function(t){if(!t)return;for(var n in t)u(t,n)&&this.setChild(n,t[n])},getChildren:function(t){var n=s(t)?t:a(arguments),o=r(this,"_children",{}),u;return n.length>0&&(u={},i(n,function(e){u[e]=this.getChild(e)})),u||o},getChildHtml:function(t){var n=this.getChild(t),r=n&&n.map(function(e){return String(e)}).join("\n");return r},removeChildren:function(t){var n=this,r=s(t)?t:a(arguments,0),i=n.getChildren(),o={},f={},l;if(r.length>0){for(l in i)u(i,l)&&(r.indexOf(l)===-1?o[l]=i[l]:(f[l]=i[l],n.emptyChildNode(l)));n._children=o}return f},emptyChildNode:function(t){var n=this.getBoundElement(t);n&&n.children.length&&i(n.children,function(e,t){n.removeChild(e),delete n.children[e]})},attachEvents:function(){var t=this,n=r(this,"events",{}),i,s,o,a,l,c,h,p;for(h in n)if(u(n,h)){o=n[h],i=t.getBoundElement(h);if(i)for(p in o)if(u(o,p)){eventKeys=p.split(","),a=o[p];while(eventKeys.length)l=eventKeys.pop(),l&&t.bindEvent(i,f(l).toLowerCase(),a)}}},detachEvents:function(){},bindEvent:function(t,n,r){var i=this;t.addEventListener?t.addEventListener(n,function(e){r.call(this,e,i)},!1):t.attachEvent&&t.attachEvent("on"+n,function(e){r.call(this,e,i)})},unbindEvent:function(t,n,r){t.removeEventListener?t.addEventListener(n,r,!1):t.detachEvent&&t.detachEvent("on"+n,r)},bindTemplate:function(){var t=this,n=document.createElement("div"),r=t.getContainer();n.innerHTML=t.compile(t._context,t);while(n.children.length)r.appendChild(n.children[0])},bindElements:function(t){var n=this,r;if(!o(t))throw new Error(Block.errors.parseElements[0]);n.clearBoundElements(),r=t.querySelectorAll("[bind],[block],block,b[name]"),i(r,function(e){var t=e.getAttribute("bind"),r=e.tagName.toLowerCase();!t&&(r==="block"||r==="b")&&(t=e.getAttribute("name")),n.setBoundElement(t,e)})},bindChildren:function(){var t=this,n=t.getChildren(),r,o,a,f=[];for(key in n)r=null,u(n,key)&&(modules=n[key],r=t.getBoundElement(key),!!r&&s(modules)&&modules.length>0&&i(modules,function(e){r.appendChild(e.toElement())}))},clearBoundElements:function(t){var n=s(t)?t:a(arguments),r=this.getBoundElements(n);this._bound={}},setBoundElement:function(t,n){var i=r(this,"_bound",{}),s=i[t]=i[t]||[];s.push(n)},getBoundElements:function(t){var n=this,t=s(t)?t:a(arguments),r={};return t.length?i(t,function(e){r[e]=n.getBoundElement(e)}):r=n._bound,r},getBoundElement:function(t){var n,i=r(this,"_bound",{});return(n=i[t])?n.length===1?n[0]:n:undefined},getContainer:function(){var t=this;return t.container||t.setContainer()},setContainer:function(t){return this.container=t?typeof t=="string"?document.createElement(t):t:document.createElement("div")},cleanUp:function(){},getUniqueId:function(){var t=this;return t._uniqueId=r(t,"_uniqueId",Date.now().toString(36)+l++)},toString:function h(){return'<span bind="'+this.getUniqueId()+'" data-type="module"></span>'},fillContainer:function(t){var n=this,r=n.getContainer(),i=r.cloneNode(!0),t=t||document.createDocumentFragment();n.bindElements(i),n.attachEvents&&n.attachEvents.call(this);while(i.children.length)t.appendChild(i.children[0]);n.bindChildren(),n.placeholder&&(n.placeholder.parentNode.replaceChild(t,n.placeholder),delete n.placeholder)},toElement:function(){var t=document.createDocumentFragment(),n,r=this;return r.ready?r.fillContainer(t):(n=r.placeholder=document.createElement("div"),n.setAttribute("class","block-loading"),t.appendChild(n)),r.fireEvent("after:toElement"),t},inject:function(e){return typeof e=="string"&&(e=document.getElementById(e)),e.appendChild(this.toElement()),this}};c.bound=c.getBoundElement,c.getChildHTML=c.getChildHtml,c.getChildrenHTML=c.getChildrenHtml,n.exports=c}),define("yate/mixin",["require","exports","module","yaul/hasOwn","yaul/forEach","yaul/typeOf","yaul/make","yaul/trim"],function(e,t,n){var r=e("yaul/hasOwn"),i=e("yaul/forEach"),s=e("yaul/typeOf"),o=e("yaul/make"),u=e("yaul/trim"),a={},f=function(e){return e?(e=u(String(e)),e.charAt(0)==="<"||/\n/.test(e)?!1:/^te(xt|mplate)!/.test(e)?!0:c.test(e)):!1},l=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},c=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,h={_templateTags:{open:"<%",close:"%>"},_templateOperators:{interpolate:["=([\\s\\S]+?)",function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}],escape:["-([\\s\\S]+?)",function(e,t){return"',escape("+t.replace(/\\'/g,"'")+"),'"}]},setContext:function(e,t){var n=this,i=n.getContext(),o;if(s(e,"object")){for(o in e)r(e,o)&&n.setContext(o,e[o]);return}return i[e]=t,n},getContext:function(e){e=s(e,"array")?e:Array.prototype.slice.call(arguments,0);var t=o(this,"_context",{});return arguments.length>0&&i(e,function(e){t[e]=this._context[e]}),t},setTags:function(e){for(var t in e)r(e,t)&&this.setTag(t,e[t]);return this},setTag:function(e,t){return this._templateTags[e]=String(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),this},getTags:function(){return this._templateTags},getTag:function(e){return this._templateTags[e]},setTemplate:function(e){e=u(e).replace(/\\?'/g,"\\'");if(!e)return;var t=this;f(e)?window.require([e],function(e){t._template=u(e).replace(/\\?'/g,"\\'"),t.fireEvent&&t.fireEvent("template:ready:latched",t._template)}):(t._template=e,t.fireEvent&&t.fireEvent("template:ready:latched",e))},getTemplate:function(){return this._template||""},parseOperators:function(){var e,t,n=this._templateOperators;for(e in n)r(n,e)&&(t=n[e],typeof t[0]=="string"&&this.addOperator(e,t[0],t[1]))},getOperators:function(){var e=this;return e._operatorsParsed||e.parseOperators(),e._templateOperators},addOperator:function(e,t,n){var r=this;s(t,"regexp")||(t=new RegExp(r.getTag("open")+t+r.getTag("close"),"g")),r._templateOperators[e]=[t,n]},compile:function(e,t){data=e||this.getContext();var n=this,i=n.getTemplate(),s=i?i.replace(/[\r\t\n]/g," "):"<b>No template</b>";if(!a[s]){var o=n.getTag("open"),u=n.getTag("close"),f=n.getOperators(),l,c,h="var p=[],print=function(){p.push.apply(p,arguments);};",p=["with(__o){p.push('","');}return p.join('');"];for(l in f)r(f,l)&&(s=s.replace(f[l][0],f[l][1]));s=s.replace(new RegExp(o+"([\\s\\S]+?)"+u,"g"),function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";p.push('"}),s=s.split("	").join("');").split("\r").join("\\'");try{c=h+p.join(s),a[s]=new Function("__o",h+p.join(s))}catch(d){window.console&&console.warn(d)&&console.warn(c)}}return a[s].call(t,data)}};n.exports=h}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!blocks/block/styles.css",[],function(){return"b[name] {\n  display: block;\n  font-weight: normal;\n}"}),define("blocks/block/index",["require","exports","module","../main","./mixin","yate/mixin","yeah/mixin","yaul/hasOwn","yaul/forEach","yaul/slice","yaul/isArray","yaul/make","yaul/typeOf","text!./styles.css"],function(e,t,n){function d(e){return a(f(arguments,1),function(t){for(var n in t)u(t,n)&&(e[n]=t[n])}),e}function v(e,t,n){if(!(this instanceof v))return new v(e,t,n);var i=this,s=h(e),o=h(t);s==="string"?(i.key=e,i.setOptions(t||{}),r.register(e,i)):(s==="object"||s==="undefined")&&i.setOptions(e||{}),i.initialize(i.options)}var r=e("../main"),i=e("./mixin"),s=e("yate/mixin"),o=e("yeah/mixin"),u=e("yaul/hasOwn"),a=e("yaul/forEach"),f=e("yaul/slice"),l=e("yaul/isArray"),c=e("yaul/make"),h=e("yaul/typeOf"),p=e("text!./styles.css");(function(){var e=document.createElement("style");e.innerHTML=p;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(),v.prototype=d({defaults:{onReady:["template:ready",function(){var t=this;t.ready=!0,t.bindTemplate(),t.fillContainer()}]},initialize:function(e){var t=this;t.readyReady(),c(this,"events",e.events||{}),(e.lang||e.context)&&t.setContext(d({},e.lang,e.context)),t.setContext("id",t.getUniqueId()),t.setChildren(e.children),t.setContainer(e.container),t.setTemplate(e.template||this.template)},readyReady:function(e){var t=this;if(!!e||!t.options.onReady)return;e=t.options.onReady,e=l(e)?e:f(arguments,0);var n=e[e.length-1];t.addEvent(Array.prototype.slice.call(e,0,-1),"block:ready",n.bind(t))},setOptions:function(e){var t=this,n=c(t,"options",{}),r=c(t,"defaults",{});return d(n,r,e||{})}},s,o,i),v.create=function(e,t){function n(t,n){var i=this;v.prototype.setOptions.call(i,e);var s=h(t),o=h(n);s==="string"?(i.key=t,i.setOptions(n||{}),r.register(t,i)):(s==="object"||s==="undefined")&&i.setOptions(n||{}),i.construct&&i.construct.call(this,i.options),i.initialize(i.options)}return n.prototype=d(t||{},v.prototype),n},r.block=v,n.exports=v}),define("blocks/block",["require","exports","module","./block/index"],function(e,t,n){n.exports=e("./block/index")}),define("yeah/index",["require","exports","module","./mixin"],function(e,t,n){function s(e){if(e)return i(e,r);var t=this;t._events={},t._latched={},t._arguments={},t._switched={}}var r=e("./mixin"),i=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};s.prototype=i({},r),i(s,r);if(typeof document!="undefined"){var o=Array.prototype.slice,u=document.createElement("script"),a=u.addEventListener?"addEventListener":"attachEvent",f=u.removeEventLisnener?"removeEventLisnener":"detachEvent";i(s,{emit:function(){return arguments.length&&u.dispatchEvent.apply(u,arguments),this},addListener:function(e,t,n,r){var i=typeof e=="string"?1:0,s=i?u:e;s[a].apply(s,o.call(arguments,i))},removeListener:function(e,t,n,r){var i=typeof e=="string"?1:0,s=i?u:e;s[f].apply(s,o.call(arguments,i))}}),s.on=s.addListener,s.off=s.removeListener}n.exports=s}),define("yeah",["yeah/index"],function(e){return e}),define("yate/index",["require","exports","module","./mixin","yaul/extend"],function(e,t,n){function o(e){e=e||{};var t=this;t._template=null,t._context={};if(typeof e.template=="string"||typeof e=="string")t._template=e.template||e}var r=e("./mixin"),i=e("yaul/extend"),s=n.config();o.prototype=i({},r),o.setTags=o.prototype.setTags,s.tags&&o.setTags(s.tags),n.exports=o}),define("yate",["yate/index"],function(e){return e})